<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- å¿…é¡»æ”¾åœ¨æœ€å‰é¢ï¼Œç¡®ä¿æµè§ˆå™¨ç¬¬ä¸€æ—¶é—´è¯†åˆ«ç¼–ç  -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>å»ä¸­å¿ƒåŒ–ä¸–ç•Œå®£è¨€</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', 'Microsoft YaHei', 'Hiragino Sans GB', sans-serif;
      line-height: 1.8;
      color: #222;
      background: #f8f9fa;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      font-size: 2.2em;
      color: #1a1a1a;
      margin-bottom: 30px;
      border-bottom: 3px solid #007BFF;
      padding-bottom: 15px;
    }
    h2, h3 {
      color: #2c3e50;
      margin: 25px 0 15px;
    }
    p, li {
      text-align: justify;
    }
    ul {
      margin: 10px 0;
      padding-left: 20px;
    }
    li {
      margin: 8px 0;
    }
    .highlight {
      background: #e8f5ff;
      padding: 18px;
      border-left: 4px solid #007BFF;
      margin: 20px 0;
      font-style: italic;
      color: #333;
    }
    .form-group {
      margin: 16px 0;
    }
    label {
      display: block;
      margin-bottom: 6px;
      font-weight: bold;
      color: #333;
    }
    input[type="text"] {
      width: 100%;
      max-width: 500px;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
      background: #fdfdfd;
      color: #000;
    }
    button {
      background: #007BFF;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
      margin: 10px 5px;
      transition: background 0.3s;
    }
    button:hover {
      background: #0056b3;
    }
    button.secondary {
      background: #6c757d;
    }
    button.secondary:hover {
      background: #545b62;
    }

    /* è¯­è¨€åˆ‡æ¢ */
    .lang-switch {
      text-align: right;
      margin-bottom: 20px;
    }
    .lang-switch button {
      padding: 6px 12px;
      margin-left: 8px;
      border: none;
      border-radius: 4px;
      background: #6c757d;
      color: white;
      cursor: pointer;
    }
    .lang-switch button.active {
      background: #007BFF;
      font-weight: bold;
    }

    /* æèµ æ¨¡å— */
    .donate-section {
      margin: 40px 0;
      padding: 25px;
      background: #f0f8ff;
      border: 1px solid #007BFF;
      border-radius: 10px;
      text-align: center;
    }
    .donate-section h3 {
      color: #2c3e50;
    }
    .donate-section p {
      color: #555;
      margin: 12px 0;
    }
    .donate-address {
      margin: 15px auto;
      max-width: 600px;
    }
    .donate-address input {
      font-family: monospace;
      letter-spacing: 0.5px;
      background: #fff;
      border-color: #aaa;
    }

    /* ç­¾åè¡¨å• */
    .signature-form {
      margin-top: 40px;
      padding: 30px;
      background: #f9f9f9;
      border-radius: 10px;
    }

    /* ç»Ÿè®¡ */
    .stats {
      text-align: center;
      margin: 30px 0;
      padding: 20px;
      background: #e8f5ff;
      border: 1px dashed #007BFF;
      border-radius: 8px;
    }
    .stats-number {
      font-size: 2.3em;
      font-weight: bold;
      color: #007BFF;
      margin: 8px 0;
    }

    /* é¡µè„š */
    footer {
      text-align: center;
      margin-top: 50px;
      color: #777;
      font-size: 0.9em;
    }

    /* å¤šè¯­è¨€æ§åˆ¶ */
    [data-lang] { display: none; }
    [data-lang="zh"] { display: block; }
    [data-lang="en"] { display: none; }
  </style>
</head>
<body>
  <div class="container">
    <!-- è¯­è¨€åˆ‡æ¢ -->
    <div class="lang-switch">
      <button id="btn-zh" class="active">ä¸­æ–‡</button>
      <button id="btn-en">English</button>
    </div>

    <!-- æ ‡é¢˜ -->
    <h1 id="title">å»ä¸­å¿ƒåŒ–ä¸–ç•Œå®£è¨€</h1>

    <!-- ç»Ÿè®¡ -->
    <div class="stats">
      <div id="stats-title">å…¨çƒç­¾ç½²äººæ•°</div>
      <div class="stats-number" id="total-count">0</div>
      <div id="breakdown-text">å·²ç­¾ç½²: 0äºº</div>
    </div>

    <!-- æ­£æ–‡ -->
    <div id="content">
      <div data-lang="zh">
        <p>æˆ‘ä»¬æ›¾ç›¸ä¿¡ï¼Œäº’è”ç½‘æ˜¯è‡ªç”±çš„ç¯å¡”ã€‚</p>
        <p>å®ƒæ‰¿è¯ºæ‰“ç ´å£å’ï¼Œè®©çŸ¥è¯†æ— ç•Œæµé€šï¼›å®ƒè®¸è¯ºèµ‹æƒä¸ªä½“ï¼Œè®©æ²‰é»˜è€…å‘å‡ºå£°éŸ³ï¼›å®ƒæç»˜ä¸€ä¸ªæ‰å¹³çš„ä¸–ç•Œï¼Œäººäººçš†å¯åˆ›é€ ã€è¿æ¥ä¸å…±äº«ã€‚ä¸‰åå¹´æ¥ï¼Œå®ƒç¡®å®æ”¹å˜äº†äººç±»æ–‡æ˜çš„è¿›ç¨‹ã€‚</p>
        <p>ä½†ä»Šå¤©ï¼Œè¿™åº§ç¯å¡”çš„å…‰èŠ’æ­£è¢«é˜´å½±é®è”½ã€‚</p>

        <h2>ğŸ“‰ ç°çŠ¶ï¼šè¢«å„æ–­çš„è‡ªç”±</h2>
        <p>ä½ æ¯ä¸€æ¬¡ç‚¹èµã€è¯„è®ºã€åœç•™ï¼Œéƒ½è¢«è®°å½•ã€åˆ†æã€æ‰“åŒ…å‡ºå”®ã€‚ä½ åˆ›ä½œçš„å†…å®¹ï¼Œå¹³å°å¯ä»¥éšæ„é™æµã€åˆ é™¤ã€‚ä½ ä¿¡ä»»çš„æœç´¢å¼•æ“ï¼Œæ‚„æ‚„ä¸ºä½ å®šåˆ¶â€œä¿¡æ¯èŒ§æˆ¿â€ã€‚</p>

        <h2>ğŸ’¡ æ„¿æ™¯ï¼šå»ä¸­å¿ƒåŒ–çš„æœªæ¥</h2>
        <p>æˆ‘ä»¬å‘¼åä¸€ä¸ª**å»ä¸­å¿ƒåŒ–**çš„ä¸–ç•Œã€‚åœ¨è¿™é‡Œï¼š</p>
        <ul>
          <li>ä½ çš„æ•°æ®å±äºä½ ï¼Œä½ å¯ä»¥å†³å®šè°å¯ä»¥è®¿é—®ã€‚</li>
          <li>ä½ çš„èº«ä»½æ˜¯è‡ªä¸»çš„ï¼Œæ— éœ€ä¾èµ–ä»»ä½•ä¸­å¿ƒåŒ–å¹³å°ã€‚</li>
          <li>å¹³å°ç”±ç¤¾åŒºå…±åŒæ‹¥æœ‰å’Œæ²»ç†ã€‚</li>
          <li>ç½‘ç»œåè®®å¼€æ”¾é€æ˜ï¼Œåˆ›æ–°ä¸è¢«è®¸å¯é™åˆ¶ã€‚</li>
        </ul>

        <div class="highlight">
          æˆ‘ä»¬ä¸æ˜¯åå¯¹æŠ€æœ¯ï¼Œè€Œæ˜¯åå¯¹æŠ€æœ¯çš„æ»¥ç”¨ï¼›ä¸æ˜¯æ‹’ç»è¿æ¥ï¼Œè€Œæ˜¯è¿½æ±‚æ›´å…¬å¹³çš„è¿æ¥ã€‚
        </div>
      </div>

      <div data-lang="en">
        <p>We once believed the internet was a lighthouse of freedom.</p>
        <p>It promised to break barriers, allowing knowledge to flow freely; it empowered individuals and gave voice to the silent. For decades, it transformed civilization.</p>
        <p>But today, the light of this lighthouse is being obscured.</p>

        <h2>ğŸ“‰ Reality: Monopolized Freedom</h2>
        <p>Every like, comment, and pause is tracked, analyzed, and sold. Your creations can be throttled or deleted. Search engines build "filter bubbles" to control what you see.</p>

        <h2>ğŸ’¡ Vision: A Decentralized Future</h2>
        <p>We call for a <strong>decentralized</strong> world where:</p>
        <ul>
          <li>Your data belongs to youâ€”you control access.</li>
          <li>Your identity is self-owned, not platform-dependent.</li>
          <li>Platforms are community-governed.</li>
          <li>Protocols are open and innovation is permissionless.</li>
        </ul>

        <div class="highlight">
          We are not against technology, but its abuse; not against connection, but for fairer connection.
        </div>
      </div>
    </div>

    <!-- ç­¾ç½²è¡¨å• -->
    <div class="signature-form">
      <h3 id="sign-title">ç­¾ç½²å®£è¨€</h3>
      <p id="sign-desc">è¾“å…¥æ‚¨çš„åå­—æˆ–åŒ¿åæ”¯æŒå»ä¸­å¿ƒåŒ–æœªæ¥ã€‚</p>

      <div class="form-group">
        <label for="name" id="name-label">æ‚¨çš„åå­—ï¼ˆå¯é€‰ï¼‰ï¼š</label>
        <input type="text" id="name" placeholder="ç•™ç©ºåˆ™ä¸ºåŒ¿å" />
      </div>

      <button onclick="signManifesto()">ç­¾ç½²å¹¶æäº¤</button>
      <button class="secondary" onclick="toggleSignatures()">
        æŸ¥çœ‹æ‰€æœ‰ç­¾ç½²è€…
      </button>
    </div>

    <!-- ç­¾ååˆ—è¡¨ -->
    <div class="signatures" id="signatures" style="display:none; margin-top:20px;">
      <h3>å·²ç­¾ç½²åå•</h3>
      <div id="sigs-list"></div>
    </div>

    <!-- æèµ æ¨¡å— -->
    <div class="donate-section">
      <h3 id="donate-title">æ”¯æŒæˆ‘ä»¬</h3>
      <p id="donate-desc">æ‚¨çš„æèµ å°†ç”¨äºæ¨å¹¿å»ä¸­å¿ƒåŒ–æŠ€æœ¯ä¸å¼€æºå¼€å‘ã€‚</p>

      <div class="donate-address">
        <label for="ltc-address">è±ç‰¹å¸ (LTC) åœ°å€ï¼š</label>
        <input 
          type="text" 
          id="ltc-address" 
          value="ltc1qv6x6pwnhffmukx80xdkqc22yutjvl9cnf9xkcg" 
          readonly 
          onclick="this.select()"
        />
        <button onclick="copyAddress()">ğŸ“‹ å¤åˆ¶åœ°å€</button>
      </div>
    </div>

    <footer>
      <p>Â© 2025 å»ä¸­å¿ƒåŒ–ä¸–ç•Œå®£è¨€ | æœ¬é¡¹ç›®å¼€æºä¸”æ— ä¸­å¿ƒæœåŠ¡å™¨ | æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­</p>
    </footer>
  </div>

  <script>
    // åˆå§‹åŒ–æ•°æ®
    function init() {
      const stats = JSON.parse(localStorage.getItem('manifesto-stats') || '{"total":0}');
      const names = JSON.parse(localStorage.getItem('manifesto-signed-names') || '[]');
      return {
        stats,
        signedNames: new Set(names.map(n => n.toLowerCase().trim()))
      };
    }

    let { stats, signedNames } = init();

    function saveData() {
      localStorage.setItem('manifesto-stats', JSON.stringify(stats));
      localStorage.setItem('manifesto-signed-names', JSON.stringify([...signedNames]));
      updateStats();
    }

    function updateStats() {
      document.getElementById('total-count').textContent = stats.total;
      const lang = getLang();
      document.getElementById('breakdown-text').textContent = 
        lang === 'zh' ? `å·²ç­¾ç½²: ${stats.total}äºº` : `Total Signatures: ${stats.total}`;
    }

    function getLang() {
      return localStorage.getItem('manifesto-lang') || 'zh';
    }

    function setLang(lang) {
      localStorage.setItem('manifesto-lang', lang);
      document.querySelectorAll('[data-lang]').forEach(el => {
        el.style.display = el.getAttribute('data-lang') === lang ? 'block' : 'none';
      });

      const isZh = lang === 'zh';
      document.getElementById('title').textContent = isZh ? 'å»ä¸­å¿ƒåŒ–ä¸–ç•Œå®£è¨€' : 'Decentralized World Manifesto';
      document.getElementById('stats-title').textContent = isZh ? 'å…¨çƒç­¾ç½²äººæ•°' : 'Global Signatures';
      document.getElementById('sign-title').textContent = isZh ? 'ç­¾ç½²å®£è¨€' : 'Sign the Manifesto';
      document.getElementById('sign-desc').textContent = isZh 
        ? 'è¾“å…¥æ‚¨çš„åå­—æˆ–åŒ¿åæ”¯æŒå»ä¸­å¿ƒåŒ–æœªæ¥ã€‚'
        : 'Enter your name or support anonymously.';
      document.getElementById('donate-title').textContent = isZh ? 'æ”¯æŒæˆ‘ä»¬' : 'Support Us';
      document.getElementById('donate-desc').textContent = isZh 
        ? 'æ‚¨çš„æèµ å°†ç”¨äºæ¨å¹¿å»ä¸­å¿ƒåŒ–æŠ€æœ¯ä¸å¼€æºå¼€å‘ã€‚'
        : 'Your donation supports decentralized tech and open-source development.';
      document.getElementById('name-label').textContent = isZh ? 'æ‚¨çš„åå­—ï¼ˆå¯é€‰ï¼‰ï¼š' : 'Your Name (Optional):';

      updateStats();
    }

    function copyAddress() {
      const addr = document.getElementById('ltc-address');
      addr.select();
      document.execCommand('copy');
      alert(getLang() === 'zh' ? 'è±ç‰¹å¸åœ°å€å·²å¤åˆ¶ï¼' : 'LTC address copied!');
    }

    function signManifesto() {
      const name = document.getElementById('name').value.trim();
      const normalizedName = name.toLowerCase();

      if (name && signedNames.has(normalizedName)) {
        alert(getLang() === 'zh' ? 'æ‚¨å·²ç­¾ç½²è¿‡ï¼Œè¯·å‹¿é‡å¤ç­¾ç½²ã€‚' : 'You have already signed.');
        return;
      }

      // ä¿å­˜ç­¾å
      const signatures = JSON.parse(localStorage.getItem('manifesto-signatures') || '[]');
      signatures.push({
        name,
        timestamp: new Date().toISOString()
      });
      localStorage.setItem('manifesto-signatures', JSON.stringify(signatures));

      // æ›´æ–°ç»Ÿè®¡
      if (name) signedNames.add(normalizedName);
      stats.total += 1;
      saveData();

      alert(getLang() === 'zh' ? 'æ„Ÿè°¢æ‚¨çš„ç­¾ç½²ï¼' : 'Thank you for signing!');
      document.getElementById('name').value = '';
      renderSignatures();
    }

    function renderSignatures() {
      const list = document.getElementById('sigs-list');
      const sigs = JSON.parse(localStorage.getItem('manifesto-signatures') || '[]');
      list.innerHTML = '';

      sigs.forEach(sig => {
        const item = document.createElement('div');
        item.className = 'sig-item';
        const displayName = sig.name ? sig.name : (getLang() === 'zh' ? 'åŒ¿åç”¨æˆ·' : 'Anonymous');
        const timeLabel = getLang() === 'zh' ? 'æ—¶é—´' : 'Time';
        item.innerHTML = `<strong>${displayName}</strong> <span class="sig-meta">${timeLabel}: ${new Date(sig.timestamp).toLocaleString()}</span>`;
        list.appendChild(item);
      });
    }

    function toggleSignatures() {
      const sigs = document.getElementById('signatures');
      sigs.style.display = sigs.style.display === 'none' ? 'block' : 'none';
      if (sigs.style.display === 'block') renderSignatures();
    }

    // è¯­è¨€åˆ‡æ¢
    document.getElementById('btn-zh').onclick = () => {
      setLang('zh');
      document.getElementById('btn-zh').classList.add('active');
      document.getElementById('btn-en').classList.remove('active');
    };
    document.getElementById('btn-en').onclick = () => {
      setLang('en');
      document.getElementById('btn-en').classList.add('active');
      document.getElementById('btn-zh').classList.remove('active');
    };

    // åˆå§‹åŒ–
    window.onload = () => {
      const lang = getLang();
      setLang(lang);
      document.getElementById(`btn-${lang}`).classList.add('active');
      updateStats();
      renderSignatures();
    };
  </script>
</body>
</html>
